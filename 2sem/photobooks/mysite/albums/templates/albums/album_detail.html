<!DOCTYPE html>
<html lang="ru">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>{{ album.title }} ‚Äî –ê–ª—å–±–æ–º</title>
    <link rel="stylesheet" href="{% static 'albums/style.css' %}">
</head>
<body>

<header class="header">
    <div class="container">
        <h1 class="logo">PhotoAlbumCraft</h1>
        <nav class="main-nav">
            <a href="{% url 'index' %}">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="{% url 'album_list' %}">–ú–æ–∏ –∞–ª—å–±–æ–º—ã</a>
        </nav>
    </div>
</header>

<main class="container">

    <section class="widget">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2>{{ album.title }}</h2>
            <div>
                <a href="{% url 'album_update' album.id %}" class="btn-link">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a> |
                <a href="{% url 'album_delete' album.id %}" class="btn-link danger">üóë –£–¥–∞–ª–∏—Ç—å</a>
            </div>
        </div>

        <p><strong>–§–æ—Ä–º–∞—Ç:</strong> {{ album.format.name }} ({{ album.format.width_mm }}√ó{{ album.format.height_mm }} –º–º)</p>
        <p><strong>–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è:</strong> {{ album.format.get_orientation_display }}</p>
        <p><strong>–¢–∏–ø –æ–±–ª–æ–∂–∫–∏:</strong> {{ album.cover_type.name }}</p>
        <p><strong>–°—Ç–∞—Ç—É—Å:</strong> {{ album.status.name }}</p>
        <p><strong>–°—Ç—Ä–∞–Ω–∏—Ü:</strong> {{ album.page_count }}</p>
        <p><strong>–°–æ–∑–¥–∞–Ω:</strong> {{ album.created_at|date:"d.m.Y H:i" }}</p>
        <p><strong>–ò–∑–º–µ–Ω—ë–Ω:</strong> {{ album.updated_at|date:"d.m.Y H:i" }}</p>
    </section>

    <section class="widget">
        <h3>–°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–ª—å–±–æ–º–∞</h3>

        {% if pages %}
        <ol>
            {% for page in pages %}
            <li class="item">
                <div class="item-title">–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page.page_number }}</div>

                <div class="item-info">
                    –§–æ—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ: {{ page.albumpagephoto_set.all|length }}
                </div>

                {% if page.albumpagephoto_set.all %}
                <ul class="item-info">
                    {% for ap in page.albumpagephoto_set.all %}
                    <li>
                        –§–æ—Ç–æ #{{ ap.photo.id }} ‚Äî
                        –ø–æ–∑–∏—Ü–∏—è ({{ ap.x }}, {{ ap.y }}),
                        —Ä–∞–∑–º–µ—Ä {{ ap.width }}√ó{{ ap.height }},
                        –ø–æ–¥–ø–∏—Å—å: {{ ap.caption_text|default:"‚Äî" }}
                    </li>
                    {% endfor %}
                </ul>
                {% endif %}
            </li>
            {% endfor %}
        </ol>
        {% else %}
        <p>–£ —ç—Ç–æ–≥–æ –∞–ª—å–±–æ–º–∞ –ø–æ–∫–∞ –Ω–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü.</p>
        {% endif %}
    </section>

</main>

</body>
</html>
